<h1>実験一覧</h1>

<table class="table table-striped table-bordered table-condensed">
  <thead>
    <tr>
      <th>名称</th>
      <th>開始(計画)</th>
      <th>終了(計画)</th>
      <th>開始(実績)</th>
      <th>終了(実績)</th>
      <th>備考</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @jikkens.each do |jikken| %>
      <tr>
        <td><%= jikken.title %></td>
        <td><%= jikken.plan_start.strftime("%Y/%m/%d") %></td>
        <td><%= jikken.plan_end.strftime("%Y/%m/%d") %></td>
        <td><%= jikken.act_start.strftime("%Y/%m/%d") %></td>
        <td><%= jikken.act_end.strftime("%Y/%m/%d") %></td>
        <td><%= jikken.memo %></td>
        <td><%= link_to 'Show', jikken %></td>
        <td><%= link_to 'Edit', edit_jikken_path(jikken) %></td>
        <td><%= link_to 'Destroy', jikken, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div>
 実験予定・実績グラフ
</div>

<canvas id="myChart" width="700" height="500"></canvas>
<script>
var data = {
    labels: <%= raw(@label_dat) %> ,
    datasets: [
        {
            label: "予定",
            fillColor: "rgba(220,220,220,0.5)",
            strokeColor: "rgba(220,220,220,0.8)",
            highlightFill: "rgba(220,220,220,0.75)",
            highlightStroke: "rgba(220,220,220,1)",
            data: <%= @yotei %>
        },
        {
            label: "実績",
            fillColor: "rgba(151,187,205,0.5)",
            strokeColor: "rgba(151,187,205,0.8)",
            highlightFill: "rgba(151,187,205,0.75)",
            highlightStroke: "rgba(151,187,205,1)",
            data: <%= @jisseki %>
        }
    ]
};

var options = {
    scaleOverride : true,
    scaleSteps : 10,
    scaleStepWidth : 5,
    scaleStartValue : 0
}


var ctx = document.getElementById("myChart").getContext("2d");
var myBarChart = new Chart(ctx).Bar(data,options);
</script>

<br>

<%= link_to '新規追加', new_jikken_path %>
